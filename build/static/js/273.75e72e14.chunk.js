"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[273],{273:function(e,t,a){a.r(t);var s=a(9439),l=a(2791),n=a(9477),r=a(2545),i=a(5218),o=a(9821),d=a(1402),c=a(1243),x=a(1605),u=a(1087),h=a(184),f=[{id:1,name:"SL",width:10},{id:2,name:"Image",width:40},{id:3,name:"Ticket Name",width:250},{id:4,name:"Price",width:120},{id:5,name:"Ticket Qty",width:140},{id:6,name:"Sold Ticket History",width:180},{id:7,name:"Draw Ticket History",width:180}];t.default=function(e){e.isLoading,e.setIsLoading;var t=(0,l.useState)(""),a=(0,s.Z)(t,2),m=a[0],p=a[1],v=(0,l.useState)([]),b=(0,s.Z)(v,2),g=b[0],w=b[1],j=(0,l.useState)([]),N=(0,s.Z)(j,2),y=N[0],k=N[1],S=JSON.parse(localStorage.getItem("authInfo"));(0,l.useEffect)((function(){!function(){var e;c.Z.get("".concat("http://api.bazigaar.com").concat(null===d.f||void 0===d.f||null===(e=d.f.ticket)||void 0===e?void 0:e.getTicket),{headers:{Authorization:"Token "+S.token}}).then((function(e){if("error"===e.data.type)i.Am.error(e.message);else{var t=e.data;t=t.reverse(),w(t),k(t)}})).catch((function(e){(0,o.D)(e)}))}()}),[]),(0,l.useEffect)((function(){var e=[];""!==m?g.map((function(t){return-1!==t.LotteryName.toLowerCase().search(m.toLowerCase())&&e.push(t),!0})):g.map((function(t){return e.push(t),!0})),k(e)}),[m]);var L=(0,l.useState)(y),T=(0,s.Z)(L,2),Z=T[0],P=T[1],I=(0,l.useState)(1),C=(0,s.Z)(I,2),F=C[0],H=C[1],A=(0,l.useState)(10),D=(0,s.Z)(A,1)[0],E=F*D,V=E-D,z=Z.slice(V,E);return(0,l.useEffect)((function(){P(y),H(1)}),[y]),(0,h.jsx)(l.Fragment,{children:(0,h.jsxs)(n.Z,{pageTitle:"All History",children:[(0,h.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 py-10 md:flex-row",children:[(0,h.jsx)("div",{children:(0,h.jsx)("h3",{className:"font-poppins text-xl font-semibold text-black lg:text-2xl",children:"History Phases"})}),(0,h.jsx)("div",{className:"flex w-full flex-col items-center gap-4 md:w-[unset] md:flex-row",children:(0,h.jsxs)("div",{className:"flex w-full items-center",children:[(0,h.jsx)("input",{type:"text",className:"h-[38px] w-full rounded-l-lg border border-black px-4 py-2 focus:border-black focus:outline-none",placeholder:"Search lottery here...",defaultValue:m,onChange:function(e){return p(e.target.value)},required:!0}),(0,h.jsx)("button",{className:"h-[38px] rounded-r-lg border border-black bg-black px-3 py-2 text-base font-semibold text-white",title:"",children:(0,h.jsx)(r.W1,{})})]})})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-white pb-3 shadow-md",children:[(0,h.jsx)("div",{className:"overflow-x-scroll",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)("thead",{className:"w-full bg-[#F1F3F7]",children:(0,h.jsx)("tr",{className:"h-16 w-full",children:null===f||void 0===f?void 0:f.map((function(e){return(0,h.jsx)("th",{style:{minWidth:e.width},className:"px-2 text-left font-inter text-base font-medium",children:e.name},e.id)}))})}),(0,h.jsx)("tbody",{className:"relative w-full",children:null===z||void 0===z?void 0:z.map((function(e,t){return(0,h.jsxs)("tr",{className:"h-20 bg-white text-sm leading-none text-gray-800 hover:bg-gray-100",children:[(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:10*(F-1)+t+1<10?"0".concat(10*(F-1)+t+1):10*(F-1)+t+1})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("div",{className:"h-10 w-10",children:(0,h.jsx)("img",{className:"h-full w-full",src:null===e||void 0===e?void 0:e.image_banner,alt:null===e||void 0===e?void 0:e.LotteryName})})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.LotteryName})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsxs)("p",{className:"text-left font-poppins text-base font-normal",children:["$",null===e||void 0===e?void 0:e.Price]})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.NumberOfTickets})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)(u.rU,{to:"/history/sold-lottery/".concat(null===e||void 0===e?void 0:e.LotteryId),className:"rounded-full border border-gray-700 px-3 py-1 text-center font-poppins text-base font-normal hover:bg-gray-700 hover:text-white",children:"View Sold Ticket"})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)(u.rU,{to:"/history/draw-winner/".concat(null===e||void 0===e?void 0:e.LotteryId),className:"rounded-full border border-gray-700 px-3 py-1 text-center font-poppins text-base font-normal hover:bg-gray-700 hover:text-white",children:"View Draw Ticket"})})]},t)}))})]})}),(0,h.jsx)(x.Z,{data:Z,currentPage:F,setcurrentPage:H,itemsPerPage:D})]})]})})}}}]);
//# sourceMappingURL=273.75e72e14.chunk.js.map