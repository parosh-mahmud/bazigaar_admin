"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[17],{3017:function(e,t,n){n.r(t);var a=n(9439),s=n(2791),l=n(9477),o=n(5218),i=n(9821),r=n(1402),c=n(1243),d=n(1605),u=n(2545),x=n(1087),p=n(9126),h=n(1213),m=n(8820),f=n(184),v=[{id:1,name:"SL",width:50},{id:3,name:"Reseller Name",width:250},{id:4,name:"Transition Number",width:260},{id:5,name:"Amount",width:180},{id:6,name:"BGCOIN",width:180},{id:7,name:"Document",width:120},{id:8,name:"Status",width:180},{id:9,name:"Action",width:180}];t.default=function(e){e.isLoading,e.setIsLoading;var t=(0,s.useState)(""),n=(0,a.Z)(t,2),g=n[0],b=n[1],j=(0,s.useState)([]),N=(0,a.Z)(j,2),w=N[0],k=N[1],y=(0,s.useState)([]),A=(0,a.Z)(y,2),Z=A[0],S=A[1],C=JSON.parse(localStorage.getItem("authInfo")),D=function(){var e;c.Z.get("".concat("http://api.bazigaar.com").concat(null===r.f||void 0===r.f||null===(e=r.f.reseller)||void 0===e?void 0:e.coinList),{headers:{Authorization:"Token "+C.token}}).then((function(e){"error"===e.data.type?o.Am.error(e.message):(console.log(e.data),k(e.data),S(e.data))})).catch((function(e){(0,i.D)(e)}))};(0,s.useEffect)((function(){D()}),[]),(0,s.useEffect)((function(){var e=[];""!==g?w.map((function(t){return-1!==t.reseller_name.toLowerCase().search(g.toLowerCase())&&e.push(t),!0})):w.map((function(t){return e.push(t),!0})),S(e)}),[g]);var z=(0,s.useState)(Z),F=(0,a.Z)(z,2),_=F[0],q=F[1],L=(0,s.useState)(1),E=(0,a.Z)(L,2),I=E[0],R=E[1],P=(0,s.useState)(10),B=(0,a.Z)(P,1)[0],O=I*B,T=O-B,G=_.slice(T,O);(0,s.useEffect)((function(){q(Z),R(1)}),[Z]);return(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)(l.Z,{pageTitle:"Coin Request",children:[(0,f.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 py-10 md:flex-row",children:[(0,f.jsx)("div",{children:(0,f.jsx)("h3",{className:"font-poppins text-xl font-semibold text-black lg:text-2xl",children:"BGCOIN Request"})}),(0,f.jsx)("div",{className:"flex w-full flex-col items-center gap-4 md:w-[unset] md:flex-row",children:(0,f.jsxs)("div",{className:"flex w-full items-center",children:[(0,f.jsx)("input",{type:"text",className:"h-[38px] w-full rounded-l-lg border border-black px-4 py-2 focus:border-black focus:outline-none",placeholder:"Search reseller here...",defaultValue:g,onChange:function(e){return b(e.target.value)},required:!0}),(0,f.jsx)("button",{className:"h-[38px] rounded-r-lg border border-black bg-black px-3 py-2 text-base font-semibold text-white",title:"",children:(0,f.jsx)(u.W1,{})})]})})]}),(0,f.jsxs)("div",{className:"rounded-lg bg-white pb-3 shadow-md",children:[(0,f.jsx)("div",{className:"overflow-x-scroll",children:(0,f.jsxs)("table",{className:"w-full",children:[(0,f.jsx)("thead",{className:"w-full bg-[#F1F3F7]",children:(0,f.jsx)("tr",{className:"h-16 w-full",children:null===v||void 0===v?void 0:v.map((function(e){return(0,f.jsx)("th",{style:{minWidth:e.width},className:"px-2 text-left font-inter text-base font-medium",children:e.name},e.id)}))})}),(0,f.jsx)("tbody",{className:"relative w-full",children:null===G||void 0===G?void 0:G.map((function(e,t){return(0,f.jsxs)("tr",{className:"h-20 bg-white text-sm leading-none text-gray-800 hover:bg-gray-100",children:[(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:10*(I-1)+t+1<10?"0".concat(10*(I-1)+t+1):10*(I-1)+t+1})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)(x.rU,{to:"/request-details/".concat(null===e||void 0===e?void 0:e.id),className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.reseller_name})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.transaction_number})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsxs)("p",{className:"text-left font-poppins text-base font-normal",children:["$",null===e||void 0===e?void 0:e.amount]})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.bgcoin})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("a",{href:"".concat("http://api.bazigaar.com").concat(null===e||void 0===e?void 0:e.doc_url),target:"_blank",rel:"noreferrer",children:(0,f.jsx)("img",{src:"".concat("http://api.bazigaar.com").concat(null===e||void 0===e?void 0:e.doc_url),alt:null===e||void 0===e?void 0:e.reseller_name,width:"40px",height:"25px"})})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"rounded-[20px] py-2 text-center font-poppins text-base font-normal capitalize ".concat("accepted"===(null===e||void 0===e?void 0:e.status)?"bg-[#63AD6F] bg-opacity-10 text-[#63AD6F]":"rejected"===(null===e||void 0===e?void 0:e.status)?"bg-[#F76868] bg-opacity-10 text-[#F76868]":"bg-orange-400 bg-opacity-10 text-orange-400"),children:null===e||void 0===e?void 0:e.status})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsxs)("div",{className:"flex h-full items-center gap-5 px-2",children:[(0,f.jsx)(x.rU,{to:"/request-details/".concat(null===e||void 0===e?void 0:e.id),children:(0,f.jsx)(m.Zju,{className:"text-[28px] text-green-500"})}),"pending"===(null===e||void 0===e?void 0:e.status)&&(0,f.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),c.Z.post("".concat("http://api.bazigaar.com").concat(r.f.reseller.approveDetails).concat(t),{},{headers:{Authorization:"token "+C.token}}).then((function(e){"error"===e.data.type?o.Am.error("Network Error"):(o.Am.success("Approved"),D())})).catch((function(e){(0,i.D)(e)}))}(t,null===e||void 0===e?void 0:e.id)},children:(0,f.jsx)(p.nRB,{className:"text-[22px] text-green-500"})}),"pending"===(null===e||void 0===e?void 0:e.status)&&(0,f.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),c.Z.post("".concat("http://api.bazigaar.com").concat(r.f.reseller.rejectDetails).concat(t),{},{headers:{Authorization:"token "+C.token}}).then((function(e){"error"===e.data.type?o.Am.error("Network Error"):(o.Am.success("Rejected"),D())})).catch((function(e){(0,i.D)(e)}))}(t,null===e||void 0===e?void 0:e.id)},children:(0,f.jsx)(h.toq,{className:"text-[24px] text-red-500"})})]})})]},t)}))})]})}),(0,f.jsx)(d.Z,{data:_,currentPage:I,setcurrentPage:R,itemsPerPage:B})]})]})})}}}]);
//# sourceMappingURL=17.39bf7384.chunk.js.map