"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[461],{1461:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n(9439),l=n(1243),a=n(2791),o=n(5218),r=n(2545),i=n(9477),d=n(1605),c=n(9821),u=n(1402),x=n(822),f=n(1413),p=n(1183),h=n(184),m=function(e){var t=e.setModalOpen,n=e.isLoading,r=e.setIsLoading,i=e.username,d=e.role,u=e.handleData,x=e.endpoint,m=(0,a.useState)({isReseller:""}),v=(0,s.Z)(m,2),g=v[0],j=v[1];return(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)("form",{action:"",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"pb-2 font-poppins text-base font-normal text-blackText",children:"Username"}),(0,h.jsx)("input",{type:"text",className:"mb-4 w-full rounded-lg border border-gray-400 px-4 py-3  focus:border-blue-500 focus:outline-none focus:ring-blue-500",defaultValue:i,disabled:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"pb-2 font-poppins text-base font-normal text-blackText",children:"Edit Reseller"}),(0,h.jsxs)("select",{className:"mb-4 w-full rounded-lg border border-gray-400 px-4 py-3  focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"Category",onChange:function(e){j((0,f.Z)((0,f.Z)({},g),{},{isReseller:e.target.value}))},required:!0,children:[(0,h.jsx)("option",{value:"",children:!0===d?"Active":"Deactive"}),(0,h.jsx)("option",{value:!0,children:"Active"}),(0,h.jsx)("option",{value:!1,children:"Deactive"})]})]}),(0,h.jsxs)("div",{className:"mt-20 flex items-center justify-end gap-3 lg:gap-5",children:[(0,h.jsxs)("button",{onClick:function(){return t(!1)},className:"flex items-center justify-center gap-2 rounded-lg bg-[#F56E6E] px-4 py-2 font-poppins text-base font-normal text-white",children:[(0,h.jsxs)("svg",{style:{color:"#fff"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x cursor-pointer",children:[(0,h.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,h.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})," ","Cancel"]}),n?(0,h.jsx)(p.Z,{}):(0,h.jsxs)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),r(!0);var n=JSON.parse(localStorage.getItem("authInfo"));l.Z.patch("".concat(x,"/"),g,{headers:{Authorization:"Token "+n.token}}).then((function(e){"error"===e.data.status?(o.Am.error(e.data.msg),r(!1)):(o.Am.success(e.data.msg),r(!1),u(),t(!1))})).catch((function(e){(0,c.D)(e),r(!1)}))}(e)},className:"flex items-center justify-center gap-2 rounded-lg bg-[#63AD6F] px-4 py-2 font-poppins text-base font-normal text-white",children:[(0,h.jsx)("svg",{style:{color:"#fff"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check",children:(0,h.jsx)("polyline",{points:"20 6 9 17 4 12"})})," ","Confirm"]})]})]})})},v=[{id:1,name:"SL",width:60},{id:2,name:"Reseller",width:40},{id:3,name:"Reseller Name",width:220},{id:4,name:"Email-Phone",width:180},{id:6,name:"Country",width:100},{id:7,name:"Joined At",width:180},{id:8,name:"Role",width:60},{id:9,name:"Action",width:40}],g=function(e){var t=e.isLoading,n=e.setIsLoading,f=(0,a.useState)(""),p=(0,s.Z)(f,2),g=p[0],j=p[1],b=(0,a.useState)([]),w=(0,s.Z)(b,2),N=w[0],y=w[1],k=(0,a.useState)([]),C=(0,s.Z)(k,2),L=C[0],Z=C[1],A=function(){var e=JSON.parse(localStorage.getItem("authInfo"));l.Z.get("".concat("http://api.bazigaar.com","/api").concat(u.f.user.allUser),{headers:{Authorization:"token "+e.token}}).then((function(e){"error"===e.data.type?o.Am.error(e.data.msg):(console.log("Res",e.data),y(e.data),Z(e.data))})).catch((function(e){(0,c.D)(e)}))};(0,a.useEffect)((function(){A()}),[]),(0,a.useEffect)((function(){var e=[];""!==g?N.map((function(t){return-1===t.username.toLowerCase().search(g.toLowerCase())&&-1===t.email.toLowerCase().search(g.toLowerCase())||e.push(t),!0})):N.map((function(t){return e.push(t),!0})),Z(e)}),[g]);var S=(0,a.useState)(L),R=(0,s.Z)(S,2),D=R[0],E=R[1],F=(0,a.useState)(1),I=(0,s.Z)(F,2),M=I[0],_=I[1],O=(0,a.useState)(10),z=(0,s.Z)(O,1)[0],B=M*z,P=B-z,T=D.slice(P,B);(0,a.useEffect)((function(){E(L),_(1)}),[L]);var W=(0,a.useState)(!1),J=(0,s.Z)(W,2),U=J[0],q=J[1],V=(0,a.useState)(""),G=(0,s.Z)(V,2),H=G[0],K=G[1];return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsxs)(i.Z,{pageTitle:"Manage Reseller",children:[(0,h.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 py-10 md:flex-row",children:[(0,h.jsx)("div",{children:(0,h.jsx)("h3",{className:"font-poppins text-xl font-semibold text-black lg:text-2xl",children:"All Reseller"})}),(0,h.jsx)("div",{className:"flex w-full flex-col items-center gap-4 md:w-[unset] md:flex-row",children:(0,h.jsxs)("div",{className:"flex w-full items-center",children:[(0,h.jsx)("input",{type:"text",className:"h-[38px] w-full rounded-l-lg border border-black px-4 py-2 focus:border-black focus:outline-none",placeholder:"Search reseller here...",defaultValue:g,onChange:function(e){return j(e.target.value)},required:!0}),(0,h.jsx)("button",{className:"h-[38px] rounded-r-lg border border-black bg-black px-3 py-2 text-base font-semibold text-white",title:"",children:(0,h.jsx)(r.W1,{})})]})})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-white pb-3 shadow-md",children:[(0,h.jsx)("div",{className:"overflow-x-scroll",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)("thead",{className:"w-full bg-[#F1F3F7]",children:(0,h.jsx)("tr",{className:"h-16 w-full",children:v.map((function(e){return(0,h.jsx)("th",{style:{minWidth:e.width},className:"px-2 text-left font-inter text-base font-medium",children:e.name},e.id)}))})}),(0,h.jsx)("tbody",{className:"w-full",children:T.map((function(e,l){var a=e.date_joined.split("T"),o=new Set(a),r=(0,s.Z)(o,1)[0];return!0===(null===e||void 0===e?void 0:e.isReseller)&&(0,h.jsxs)("tr",{className:"h-20 bg-white text-sm leading-none text-gray-800 hover:bg-gray-100",children:[(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:10*(M-1)+l+1<10?"0".concat(10*(M-1)+l+1):10*(M-1)+l+1})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("div",{className:"h-10 w-10",children:null!==e.profile_picture?(0,h.jsx)("img",{className:"h-full w-full",src:"".concat("http://api.bazigaar.com").concat(null===e||void 0===e?void 0:e.profile_picture),alt:null===e||void 0===e?void 0:e.username}):(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:"N/A"})})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:""!==(null===e||void 0===e?void 0:e.first_name)&&""!==(null===e||void 0===e?void 0:e.last_name)?(null!==e&&void 0!==e&&e.first_name,null===e||void 0===e?void 0:e.last_name):"N/A"})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsxs)("p",{className:"text-left font-poppins text-base font-normal",children:[null===e||void 0===e?void 0:e.email," - ",null===e||void 0===e?void 0:e.countryCode,null===e||void 0===e?void 0:e.phoneNumber]})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===(null===e||void 0===e?void 0:e.country)?"N/A":null===e||void 0===e?void 0:e.country})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:r})}),(0,h.jsx)("td",{className:"px-2",children:null!==e&&void 0!==e&&e.isReseller?(0,h.jsx)("p",{className:"w-fit rounded-full\n                           bg-[#63ad6f24] px-3 py-2 font-inter text-[14px] font-medium text-[#63AD6F]",children:"Reseller"}):(0,h.jsx)("p",{className:"w-fit rounded-full\n                             bg-[#f768682b] px-3 py-2 font-inter text-[14px] font-medium text-[#F76868]",children:"N/A"})}),(0,h.jsx)("td",{className:"px-2",children:(0,h.jsx)("svg",{onClick:function(s){return function(e,s,l,a){var o;e.preventDefault(),q(!0),K((0,h.jsx)(m,{setModalOpen:q,isLoading:t,setIsLoading:n,username:l,role:a,handleData:A,endpoint:"".concat("http://api.bazigaar.com").concat(null===u.f||void 0===u.f||null===(o=u.f.user)||void 0===o?void 0:o.updateUser).concat(s)}))}(s,null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.username,null===e||void 0===e?void 0:e.isReseller)},className:"cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",children:(0,h.jsx)("path",{d:"M11.2815 3.19257L2.63473 11.8393L1.5 16L5.66069 14.8653L14.3074 6.21853M11.2815 3.19257L12.8473 1.6267C13.046 1.42801 13.2819 1.2704 13.5415 1.16287C13.8011 1.05534 14.0793 1 14.3603 1C14.6413 1 14.9195 1.05534 15.1791 1.16287C15.4387 1.2704 15.6746 1.42801 15.8733 1.6267C16.072 1.82538 16.2296 2.06126 16.3371 2.32086C16.4447 2.58045 16.5 2.85869 16.5 3.13968C16.5 3.42066 16.4447 3.6989 16.3371 3.95849C16.2296 4.21809 16.072 4.45397 15.8733 4.65266L14.3074 6.21853M11.2815 3.19257L14.3074 6.21853",stroke:"#0EAB8B",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},e.id)}))})]})}),(0,h.jsx)(d.Z,{data:D,currentPage:M,setcurrentPage:_,itemsPerPage:z})]})]}),(0,h.jsx)(x.Z,{title:"Edit Reseller",modalOpen:U,setModalOpen:q,modalContent:H})]})}}}]);
//# sourceMappingURL=461.d7a47d14.chunk.js.map