"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[394],{1394:function(e,t,a){a.r(t);var n=a(9439),s=a(2791),l=a(9477),i=a(2545),r=a(5218),o=a(9821),d=a(1402),c=a(1243),u=a(1605),x=a(7689),f=a(184),h=[{id:1,name:"SL",width:10},{id:2,name:"User Id",width:40},{id:5,name:"Username",width:140},{id:3,name:"Ticket Id",width:120},{id:4,name:"Prize Type",width:120}];t.default=function(e){e.isLoading,e.setIsLoading;var t=(0,s.useState)(""),a=(0,n.Z)(t,2),m=a[0],p=a[1],b=(0,s.useState)([]),v=(0,n.Z)(b,2),j=v[0],g=v[1],w=(0,s.useState)([]),N=(0,n.Z)(w,2),k=N[0],y=N[1],S=JSON.parse(localStorage.getItem("authInfo")),Z=(0,x.UO)();(0,s.useEffect)((function(){!function(){var e;c.Z.get("".concat("http://api.bazigaar.com").concat(null===d.f||void 0===d.f||null===(e=d.f.ticket)||void 0===e?void 0:e.drawLotteryWinners).concat(null===Z||void 0===Z?void 0:Z.id),{headers:{Authorization:"Token "+S.token}}).then((function(e){"error"===e.data.type?r.Am.error(e.message):(console.log("res.data",e.data),g(e.data),y(e.data))})).catch((function(e){(0,o.D)(e)}))}()}),[]),(0,s.useEffect)((function(){var e=[];""!==m?j.map((function(t){return-1!==t.username.toLowerCase().search(m.toLowerCase())&&e.push(t),!0})):j.map((function(t){return e.push(t),!0})),y(e)}),[m]);var I=(0,s.useState)(k),T=(0,n.Z)(I,2),L=T[0],C=T[1],P=(0,s.useState)(1),z=(0,n.Z)(P,2),F=z[0],W=z[1],A=(0,s.useState)(10),E=(0,n.Z)(A,1)[0],U=F*E,D=U-E,O=L.slice(D,U);return(0,s.useEffect)((function(){C(k),W(1)}),[k]),(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)(l.Z,{pageTitle:"All Draw Ticket",children:[(0,f.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 py-10 md:flex-row",children:[(0,f.jsx)("div",{children:(0,f.jsx)("h3",{className:"font-poppins text-xl font-semibold text-black lg:text-2xl",children:"Ticket Winner History"})}),(0,f.jsx)("div",{className:"flex w-full flex-col items-center gap-4 md:w-[unset] md:flex-row",children:(0,f.jsxs)("div",{className:"flex w-full items-center",children:[(0,f.jsx)("input",{type:"text",className:"h-[38px] w-full rounded-l-lg border border-black px-4 py-2 focus:border-black focus:outline-none",placeholder:"Search here...",defaultValue:m,onChange:function(e){return p(e.target.value)},required:!0}),(0,f.jsx)("button",{className:"h-[38px] rounded-r-lg border border-black bg-black px-3 py-2 text-base font-semibold text-white",title:"",children:(0,f.jsx)(i.W1,{})})]})})]}),(0,f.jsxs)("div",{className:"rounded-lg bg-white pb-3 shadow-md",children:[(0,f.jsx)("div",{className:"overflow-x-scroll",children:(0,f.jsxs)("table",{className:"w-full",children:[(0,f.jsx)("thead",{className:"w-full bg-[#F1F3F7]",children:(0,f.jsx)("tr",{className:"h-16 w-full",children:null===h||void 0===h?void 0:h.map((function(e){return(0,f.jsx)("th",{style:{minWidth:e.width},className:"px-2 text-left font-inter text-base font-medium",children:e.name},e.id)}))})}),(0,f.jsx)("tbody",{className:"relative w-full",children:null===O||void 0===O?void 0:O.map((function(e,t){return(0,f.jsxs)("tr",{className:"h-20 bg-white text-sm leading-none text-gray-800 hover:bg-gray-100",children:[(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:t+1<10?"0".concat(t+1):t+1})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.userId})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.username})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.ticketId})}),(0,f.jsx)("td",{className:"px-2",children:(0,f.jsx)("p",{className:"text-left font-poppins text-base font-normal",children:null===e||void 0===e?void 0:e.prizeType})})]},t)}))})]})}),(0,f.jsx)(u.Z,{data:L,currentPage:F,setcurrentPage:W,itemsPerPage:E})]})]})})}}}]);
//# sourceMappingURL=394.ff0a4f72.chunk.js.map